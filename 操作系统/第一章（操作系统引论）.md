## 第一章：操作系统引论

#### 操作系统的定义

操作系统是一组能有效地组织和管理计算机硬件和软件资源，合理地对各类作业进行调度以及方便用户使用的程序的集合。

***

#### 操作系统的目标

方便性(用户）、有效性(吞吐量）、可扩充性(未来)和开放性(遵循标准和兼容性)。

***

#### 操作系统的作用

1.OS作为用户与计算机硬件系统之间的接口

2.OS作为计算机系统资源的管理者。(处理机、存储器、IO设备、文件[数据和程序])

3.OS实现了对计算机资源的抽象(层层抽象，层层覆盖)

***

#### 推动操作系统发展的主要动力

1.不断提高的计算机资源利用率(多道批处理系统)

2.方便用户(人-机交互)

3.器件不断更新换代(硬件升级)

4.计算机体系结构不断发展(单处理机到多处理机以及网络OS)

5.不断提出新的应用需求(多媒体等功能)

***

### 计算机系统

#### 1.人工操作方式

**缺点：**

(1)用户独占全机，即一台计算机的全部资源由上机用户独占。

(2)CPU等待人工操作。当用户进行装带、卸带等人工操作时，CPU及内存等资源是空闲的。

**人机矛盾：**人工操作方式严重降低了计算机资源的利用率。

***

#### 2.脱机输入/输出方式

**出现原因：**为了解决人机矛盾以及CPU和I/O设备之间的速度不匹配。

**工作方式：**在外围机的控制下，把纸带上的数据输入到磁带上，当CPU需要这些程序和数据的时候，再从磁带上高速的调入内存中，输出方式同理。

**优点：**

由于程序和数据的输入和输出都是在外围机的控制下完成的，或者说，他们是在脱离主机的情况下进行的，故称为脱机输入/输出方式。（在主机直接控制下的I/O的方式叫做联机I/O方式)

(1)减少了CPU的空闲时间(装带、卸带都是在外围机上完成，不占用主机时间，减少了CPU空闲时间)

(2)提高了I/O速度。(CPU需要的数据从高速的磁带上进入内存中)

***

#### 3.单道批处理系统

**出现原因：**在解决人机矛盾和CPU与I/O设备不匹配矛盾的过程中形成的，旨在提高系统资源利用率和系统吞吐量。

**工作方式：**需要把一批作业以脱机方式输入到磁带上，并在系统中配上监督程序。在内存中始终只保持一道作业。

**缺点：**

单道批处理程序的最主要缺点是：系统资源得不到充分的利用。(内存中仅有一道程序运行)

计算机一般配备了较大容量的内存，但实际上80%以上的作业都属于中小型，因此大多数情况会造成内存的浪费。

***

#### 4.多道批处理系统

**出现原因：**为了进一步提高资源的利用率和系统吞吐量。

**工作方式：**用户所提交的作业先放在外存上，并排成一个队列，称为后备队列，然后按照一定算法从后备队列中选择若干个作业调入内存，使他们共享CPU和系统中的各种资源。

**优点：**

(1)资源利用率高。(多道程序交替执行，以保持CPU忙碌状态，提高利用率，还能提升I/O设备的利用率)

(2)系统吞吐量大。(CPU和其他资源保持忙碌状态、仅当作业完成或运行不下去时才进行切换，系统开销小)

**缺点：**

(1)平均周转时间长。(作业要排队依次处理，因而作业的周转时间比较长)

(2)无交互能力。(用户一旦把作业提交给系统后，直至作业完成，用户都不能与自己的作业进行交互，调试和修改极不方便)

**需要解决的问题：**

(1)处理机争用问题。(既要能满足各道程序运行，又要能提高处理机效率)

(2)内存分配和保护问题。(系统应能为每道程序分配必要的内存空间，且不会因为某道程序异常破坏其他程序)

(3)I/O设备分配问题。(系统应采取适当策略来分配系统中的I/O设备，已达到既能方便用户对设备的使用，又能提高设备利用率的目的)

(4)文件的组织和管理问题。(系统应能有效地组织存放在系统中的大量的程序和数据，使他们既便于用户使用，又能保证数据的安全性)

(5)作业管理问题。(系统应能对系统中所有的作业进行合理的组织)

(6)用户与系统的接口问题。(为使用户能方便的使用操作系统，OS应该提供用户与OS之间的接口)

***

#### 5.分时操作系统

**出现原因：**满足对人-机交互的需求。

**工作方式：**在一台主机上连接了多个配有显示器和键盘的终端并由此所组成的系统，该系统允许多个用户通过自己的终端，以交互的方式使用计算机，共享计算机主机中的资源。

**关键问题：**

(1)及时接收

在系统中配置一个多路卡，实现分时多路复用，此外，为了使能从终端上输入的命令被依次逐条的处理，还需要为每个终端配置一个缓冲区，用来暂存用户输入的命令。

(2)及时处理

①作业直接进入内存，因为作业在磁盘上无法运行，所以需要直接进入内存。

②采用轮转运行方式，为了避免一个作业长期独占处理机，引入了时间片的概念，系统规定每个作业只能运行一个时间片，然后暂停该作业的运行，并立即调度下一个作业运行。

**分时系统的特征：**

(1)多路性。（允许多台终端连接到一台主机上，并按分时原则提供服务，显著的提高了资源利用率）

(2)独立性。（每个用户在各自的终端上进行操作，彼此之间互不干扰）

(3)及时性。（用户的请求在很短的时间内就能获得响应）

(4)交互性。（用户可以通过终端与系统进行广泛的人机对话(用户可以请求系统提供多方面服务））

***

#### 6.实时系统

